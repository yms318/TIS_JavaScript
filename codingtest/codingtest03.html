<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let 대기인원 = 14000605;
        /*
        9시         25명    25명
        9시 10분    15명    40명
        9시 20분    15명    55명
        9시 30분    15명    70명
        9시 40분    15명    85명
        9시 50분    15명    100명
        10시        25명   125명
        ...
        하루(12시간) : 1200명
        */

       

        function 배건너는시간 (대기인원) {
            let 년 = 0, 월 = 0, 일 = 0, 시 = 0, 분 = 0;
            //--------------------------------------------

            let 걸린일수 = 대기인원/1200; //하루 1200씩 나르는 데 걸린일수
            console.log(`걸린일수 : ${걸린일수}`);

            let 일년일수 = 0;
            for (var i = 1; i < 11; i++) {
                일년일수 += 2**i; //1년은 2046일
            }

            let 걸린연도 = 걸린일수/일년일수;
            let 나머지일수 = 걸린일수%일년일수;
            console.log(`걸린연도 : ${걸린연도}`);
            console.log(`연도 뺀 나머지일수 : ${나머지일수}`);

            let 남은인원 = 대기인원%1200; //하루 1200씩 나르고 남은 인원
            let 걸린월수 = 0;

            //연도 뺀 나머지 일수에서 걸린월수 구하기
            for (var i = 10; i >= 1; i--) {
                if(나머지일수 - 2**i < 0){
                    break;
                } else {
                    나머지일수 -= 2**i;
                    걸린월수++;
                }
            }
            console.log(`걸린월수 : ${걸린월수}`);
            console.log(`월을 뺀 나머지일수 : ${나머지일수}`);

            //시와 분 구하기
            let 출발시간 = 남은인원/100 + 9; //한시간에 100명 나르는 데 걸리는 시간 + 첫차 시각 -> 11.05
            let 출발분 = [25, 40, 55, 70, 85, 100] //XX시 00분 10분 20분... 나르는 인원 누적
            let 최종출발분 = 0;

            for (let idx in 출발분){
                console.log(`남은 인원 : ${남은인원%100}`);
                if (출발분[idx] > 남은인원%100) { //시간으로 나눈 나머지 분이 출발분의 어디에 속하는지
                    최종출발분 = idx*10;
                    break;
                }
            }

            let date = new Date();
            최종출발분 =  최종출발분 + date.getMinutes();
            if(최종출발분 > 60) {
                최종출발분 - 60;
                출발시간++
            }
            
            console.log(`출발시간 : ${출발시간}`);
            console.log (`최종출발분 : ${최종출발분}`);      
            
            //--------------------------------------------
            년 = parseInt(걸린연도, 10);
            월 = parseInt(걸린월수, 10);
            일 = parseInt(나머지일수, 10);
            시 = parseInt(출발시간, 10);
            분 = parseInt(최종출발분, 10);

            return`
            ${년}년
            ${월}월
            ${일}일
            ${시}시
            ${분}분
            `
        }

        console.log(배건너는시간(대기인원));

    </script>
</body>
</html>